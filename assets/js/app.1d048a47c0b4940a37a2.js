webpackJsonp([12],[,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"e",function(){return l}),n.d(e,"c",function(){return m});var r,a=n(9),o=n.n(a),c=(n(64),n(65)),s=n(83),i="SET_TOKEN",u="USER_LOGIN",p="USER_LOGOUT",f="ERR",d="ERR_TOAST",l="SUCCESS_TOAST",m="LOADING_TOAST";e.h=(r={},o()(r,"NEED_LOGIN",function(){c.a.fail({duration:500,message:"需要登陆"})}),o()(r,u,function(t,e){t.user=e,s.a.set("user",e),t.needLogin=!1,c.a.success({duration:500,message:"登陆成功！"})}),o()(r,p,function(t){t.user={},t.needLogin=!0,s.a.clear(),c.a.success({duration:500,message:"注销成功！"})}),o()(r,f,function(t,e){c.a.fail({duration:500,message:e})}),o()(r,i,function(t,e){t.accesstoken=e,s.a.set("token",e)}),o()(r,"LOADING",function(t,e){t.loading=e}),o()(r,"SET_ADD_LOGO",function(t,e){t.addLogo=e,s.a.set("addLogo",e)}),o()(r,d,function(t,e){var n=e.message,r=void 0===n?"操作失败":n,a=e.mask,o=void 0!==a&&a,s=e.duration,i=void 0===s?500:s;c.a.fail({message:r,mask:o,duration:i})}),o()(r,l,function(t,e){var n=e.message,r=void 0===n?"操作成功":n,a=e.mask,o=void 0!==a&&a,s=e.duration,i=void 0===s?500:s;c.a.success({message:r,mask:o,duration:i})}),o()(r,m,function(t,e){var n=e.flag,r=e.message,a=void 0===r?"加载中...":r,o=e.mask,s=void 0===o||o;n?c.a.loading({message:a,mask:s}):c.a.clear()}),r)},function(t,e,n){"use strict";function r(t,e){a(t,e);var n="",r=t.path;if(t.paramsPath&&(r=t.path.replace(t.paramsPath,e[t.paramsPath.slice(1)])),t.methods===E.a.GET){n+="?";for(var o in e)e[o]&&(n+=encodeURIComponent(o)+"="+encodeURIComponent(e[o])+"&");return n=n.slice(0,-1),{url:E.c.BASE_URL+r+n}}if(t.methods===E.a.POST){var s=c(e);return{url:E.c.BASE_URL+r,data:s}}}function a(t,e){if(t.paramsPath&&!e[t.paramsPath.slice(1)])throw new Error(t.paramsPath.slice(1));if(0!==_()(t.params).length){var n=!0,r=!1,a=void 0;try{for(var o,c=h()(_()(t.params));!(n=(o=c.next()).done);n=!0){var s=o.value;if(!0===t.params[s].required&&"undefined"===e[s])throw new Error("MUST post "+s);if("function"==typeof t.params[s].validator&&void 0!==e[s]){if(t.params[s].validator(e[s]))return!0;throw new Error(s+" validator 类型错误")}if(t.params[s].type!==m()(e[s])&&void 0!==e[s])throw new Error(s+" 存在类型错误")}}catch(t){r=!0,a=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}}}function o(t,e){var n={},r={},a=_()(t.params).filter(function(e){return t.params[e].default}),o=!0,c=!1,s=void 0;try{for(var i,u=h()(a);!(o=(i=u.next()).done);o=!0){var p=i.value;r[p]=t.params[p].default}}catch(t){c=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(c)throw s}}return d()(n,r,e),n}function c(t){var e=[];for(var n in t){var r=encodeURIComponent(n),a=encodeURIComponent(t[n]);t[n]&&e.push(r+"="+a)}return e.join("&")}n.d(e,"c",function(){return T}),n.d(e,"b",function(){return S}),n.d(e,"g",function(){return b}),n.d(e,"h",function(){return O}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return P}),n.d(e,"k",function(){return x}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return C}),n.d(e,"f",function(){return w}),n.d(e,"e",function(){return L});var s=n(6),i=n.n(s),u=n(7),p=n.n(u),f=n(19),d=n.n(f),l=n(98),m=n.n(l),g=n(181),h=n.n(g),v=n(59),_=n.n(v),E=n(91),T=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.TOPICS,o(E.c.TOPICS,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.TOPICS.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),S=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.TOPIC,o(E.c.TOPIC,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.TOPIC.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),b=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.POST_TOPIC_REPLIES,o(E.c.POST_TOPIC_REPLIES,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.POST_TOPIC_REPLIES.methods,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:e.data});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),O=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.POST_ACCESSTOKEN,o(E.c.POST_ACCESSTOKEN,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.POST_ACCESSTOKEN.methods,body:e.data,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),k=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.MESSAGES,o(E.c.MESSAGES,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.MESSAGES.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),P=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.USER,o(E.c.USER,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.USER.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),x=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.POST_UP_REPLY,o(E.c.POST_UP_REPLY,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.POST_UP_REPLY.methods,body:e.data,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),y=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.TOPIC_COLLECT,o(E.c.TOPIC_COLLECT,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.TOPIC_COLLECT.methods,body:e.data,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),C=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.TOPIC_DE_COLLECT,o(E.c.TOPIC_DE_COLLECT,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.TOPIC_DE_COLLECT.methods,body:e.data,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),w=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.POST_MARK_ONE_MESSAGE,o(E.c.POST_MARK_ONE_MESSAGE,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.POST_MARK_ONE_MESSAGE.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),L=function(){var t=p()(i.a.mark(function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(E.c.USER_TOPIC_COLLECT,o(E.c.USER_TOPIC_COLLECT,a)),t.prev=1,t.next=4,fetch(e.url,{method:E.c.USER_TOPIC_COLLECT.methods});case 4:return n=t.sent,t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}()},,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(93),n(94)),a=(n(64),n(65)),o=(n(124),n(126)),c=n(10),s=n(66),i=n.n(s),u=n(127),p=(n.n(u),n(128)),f=n.n(p),d=n(129),l=(n.n(d),n(130)),m=n(133),g=n(92),h=n(90),v=n(203);n.n(v);c.a.use(o.a),c.a.use(a.a),c.a.use(r.a),c.a.component(h.a.name,h.a),i.a.locale("zh-cn"),i.a.extend(f.a),c.a.config.productionTip=!1,c.a.filter("time",function(t){return i()(t).fromNow()}),e.default=new c.a({el:"#app",router:m.a,store:g.a,render:function(t){return t(l.a)}})},,,,,,,,,,,,function(t,e,n){"use strict";e.a={name:"app"}},function(t,e,n){"use strict";e.a={name:"v-icon",props:{icon:{type:String,required:!0},size:{type:Number,default:16},color:{type:String,default:"inherit"},active:{type:Boolean,default:!1},activeIcon:{type:String}},computed:{iconClass:function(){var t="";return-1===this.icon.indexOf("icon-")&&(t+="icon-"),t+=this.icon,this.active&&(t+="fill"),t}}}},,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(177),a=n.n(r);e.a={set:function(t,e){try{var n=a()(e);return console.assert(n),localStorage.setItem(t,n)}catch(e){console.error("key",t),console.error(e)}},get:function(t){if(!t)return null;try{var e=localStorage.getItem(t);return JSON.parse(e)}catch(e){console.error("key",t),console.error(e)}},clear:function(){try{return localStorage.clear()}catch(t){console.error(t)}},remove:function(t){if(t)try{return localStorage.clear()}catch(t){console.error(t)}}}},function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return i}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"g",function(){return d});var r,a=n(9),o=n.n(a),c="NEED_LOGIN",s="SET_ID",i="SET_TOPIC",u="SET_COLLECT",p="LOADING",f="ERR",d="SET_UP_REPLY";e.h=(r={},o()(r,s,function(t,e){t.id=e}),o()(r,i,function(t,e){t.topic=e}),o()(r,p,function(t,e){t.loading=e}),o()(r,f,function(t,e){t.msg=e}),o()(r,u,function(t,e){t.topic.is_collect=e}),o()(r,d,function(t,e){var n=e.flag,r=e.id;t.topic.replies.forEach(function(t){t.id===r&&("up"===n?(t.is_uped=!0,t.ups.push("点赞")):(t.is_uped=!1,t.ups.pop()))})}),r)},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return d});var r,a=n(9),o=n.n(a),c=n(52),s=n.n(c),i="UNSHIFT_TOPICS",u="SHIFT_TOPICS",p="LOADING",f="ERR",d="PAGE_ADD_ONE";e.f=(r={},o()(r,"PUSH_TOPICS",function(t,e){var n;(n=t.topics).push.apply(n,s()(e))}),o()(r,i,function(t,e){var n;(n=t.topics).unshift.apply(n,s()(e))}),o()(r,u,function(t,e){t.topics.splice(-e)}),o()(r,f,function(t,e){t.err=!0,t.msg=e}),o()(r,p,function(t,e){t.loading=e}),o()(r,d,function(t){t.page+=1}),r)},function(t,e,n){"use strict";n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return u});var r,a=n(9),o=n.n(a),c="SET_MESSAGE",s="SET_LOADING",i="SET_ERR",u="MESSAGE_READ";e.e=(r={},o()(r,c,function(t,e){var n=e.hasnot_read_messages,r=e.has_read_messages;t.none=n,t.read=r,t.err=!1}),o()(r,s,function(t,e){t.loading=e}),o()(r,i,function(t,e){var n=e.tag,r=e.msg;t.tag=n,t.errmsg=r}),o()(r,u,function(t,e){var n=e.id,r=t.none.findIndex(function(t){return t.id===n});r&&t.none.splice(r,1)}),r)},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return d});var r,a=n(9),o=n.n(a),c=n(52),s=n.n(c),i="UNSHIFT_TOPICS",u="SHIFT_TOPICS",p="LOADING",f="ERR",d="PAGE_ADD_ONE";e.f=(r={},o()(r,i,function(t,e){var n,r=e.tab,a=e.topics;(n=t[r].topics).unshift.apply(n,s()(a))}),o()(r,u,function(t,e){var n=e.tab,r=e.conut;t[n].topics.splice(-r)}),o()(r,f,function(t,e){var n=e.tab,r=e.msg;t[n].err=!0,t[n].msg=r}),o()(r,p,function(t,e){var n=e.tab,r=e.flag;t[n].loading=r}),o()(r,d,function(t,e){t[e.tab].page+=1}),r)},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return p}),n.d(e,"a",function(){return f});var r,a=n(9),o=n.n(a),c=n(55),s="SET_ERR",i="SET_AUTHOR_INFO",u="SET_AUTHOR_COLLECTS",p="SET_LOADING",f="NEED_ROUTER";e.f=(r={},o()(r,s,function(t,e){var n=e.flag;e.msg;t.err=n}),o()(r,i,function(t,e){var n=e.data;n&&(t.author.info=n)}),o()(r,u,function(t,e){var n=e.data;n&&(t.author.collects=n)}),o()(r,p,function(t,e){var n=e.flag;t.loading=n}),o()(r,"NEED_ROUTER",function(t,e){c.default.$router.push(e)}),r)},,function(t,e,n){"use strict";function r(t){n(138)}var a=n(68),o=n(139),c=n(51),s=r,i=c(a.a,o.a,!1,s,null,null);e.a=i.exports},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});var r=["ask","share","job","good","dev"],a={ask:"问答",share:"分享",job:"招聘",good:"精华",dev:"测试"},o={POST:"POST",GET:"GET"};e.c={BASE_URL:"https://cnodejs.org/api/v1",TOPICS:{path:"/topics",methods:o.GET,params:{page:{type:"number",default:1},tab:{validator:function(t){return-1!==r.indexOf(t)}},limit:{type:"number",default:10},mdrender:{type:"boolean",default:!0}}},TOPIC:{path:"/topic/:id",paramsPath:":id",methods:o.GET,params:{mdrender:{type:"boolean",default:!0},accesstoken:{type:"string"}}},POST_TOPIC:{path:"/topics",methods:o.POST,params:{accesstoken:{type:"string",required:!0},tab:{validator:function(t){return-1!==r.indexOf(t)}},title:{type:"string"},content:{required:!0,validator:function(t){return t.length>=10}}}},UPDATE_TOPIC:{path:"/topics/update",methods:o.POST,params:{accesstoken:{type:"string",required:!0},tab:{validator:function(t){return-1!==r.indexOf(t)}},topic_id:{type:"string",required:!0},title:{type:"string"},content:{required:!0,validator:function(t){return t.length>=10}}}},TOPIC_COLLECT:{path:"/topic_collect/collect",methods:o.POST,params:{accesstoken:{type:"string",required:!0},topic_id:{type:"string",required:!0}}},TOPIC_DE_COLLECT:{path:"/topic_collect/de_collect",methods:o.POST,params:{accesstoken:{type:"string",required:!0},topic_id:{type:"string",required:!0}}},USER_TOPIC_COLLECT:{path:"/topic_collect/:loginname",methods:o.GET,paramsPath:":loginname",params:{}},POST_TOPIC_REPLIES:{path:"/topic/:topic_id/replies",paramsPath:":topic_id",methods:o.POST,params:{accesstoken:{type:"string",required:!0},content:{required:!0,validator:function(t){return t.length>=1}},reply_id:{type:"string"}}},POST_UP_REPLY:{path:"/reply/:reply_id/ups",paramsPath:":reply_id",methods:o.POST,params:{accesstoken:{type:"string",required:!0}}},USER:{path:"/user/:loginname",paramsPath:":loginname",methods:o.GET,params:{}},POST_ACCESSTOKEN:{path:"/accesstoken",methods:o.POST,params:{accesstoken:{type:"string",required:!0}}},MESSAGE_COUNT:{path:"/message/count",methods:o.GET,params:{accesstoken:{type:"string",required:!0}}},MESSAGES:{path:"/messages",methods:o.GET,params:{accesstoken:{type:"string",required:!0},mdrender:{type:"boolean"}}},POST_MARK_ALL_MESSAGE:{path:"/message/mark_all",methods:o.POST,params:{accesstoken:{type:"string",required:!0}}},POST_MARK_ONE_MESSAGE:{path:"/message/mark_one/:msg_id",pathParams:":msg_id",methods:o.POST,params:{accesstoken:{type:"string",required:!0}}}}},function(t,e,n){"use strict";var r=n(10),a=n(89),o=n(176),c=n(184),s=n(187),i=n(190),u=n(193),p=n(196),f=n(200);r.a.use(a.a),e.a=new a.a.Store({modules:{user:o.a,topic:c.a,home:s.a,category:u.a,message:i.a,reply:p.a,author:f.a}})},,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e){},,,,function(t,e){},function(t,e,n){"use strict";function r(t){n(131)}var a=n(67),o=n(132),c=n(51),s=r,i=c(a.a,o.a,!1,s,null,null);e.a=i.exports},function(t,e){},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{exclude:"page-topic"}},[n("router-view")],1)],1)},a=[],o={render:r,staticRenderFns:a};e.a=o},function(t,e,n){"use strict";var r=n(10),a=n(134),o=function(){return n.e(2).then(n.bind(null,206))},c=function(){return n.e(0).then(n.bind(null,207))},s=function(){return n.e(8).then(n.bind(null,208))},i=function(){return n.e(5).then(n.bind(null,209))},u=function(){return n.e(9).then(n.bind(null,210))},p=function(){return n.e(4).then(n.bind(null,211))},f=function(){return n.e(1).then(n.bind(null,212))},d=function(){return n.e(7).then(n.bind(null,213))},l=function(){return n.e(3).then(n.bind(null,214))},m=function(){return n.e(6).then(n.bind(null,215))},g=function(){return n.e(10).then(n.bind(null,216))};r.a.use(a.a),e.a=new a.a({mode:"history",routes:[{path:"/",component:u,children:[{path:"/category",component:c},{path:"/",component:o},{path:"/me",component:i},{path:"/message",component:s}]},{path:"/topic/:id",component:p,children:[{path:"/topic/:id/reply",component:l}]},{path:"/user/:name",component:f,children:[{path:"/user/:name/collect",component:m}]},{path:"/login",component:d},{path:"*",component:g}]})},,,,,function(t,e){},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:["iconfont",t.iconClass],style:{fontSize:t.size+"px",color:t.color}})},a=[],o={render:r,staticRenderFns:a};e.a=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(83),a=n(14),o=n(179),c=n(180),s=r.a.get("token")||"",i=r.a.get("user")||{},u="boolean"!=typeof r.a.get("addLogo")||r.a.get("addLogo");e.a={state:{user:i,needLogin:!(i&&s),accesstoken:s,loading:!1,addLogo:u},mutations:a.h,getters:o.a,actions:c.a}},,,function(t,e,n){"use strict";e.a={token:function(t){return t.accesstoken?t.accesstoken:""},needLogin:function(t){return t.needLogin},loading:function(t){return t.loading},user:function(t){return t.user&&t.user.success?{avatar_url:t.user.avatar_url,loginname:t.user.loginname}:{avatar_url:"",loginname:""}},addLogo:function(t){return t.addLogo}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(14),i=n(15);e.a={userLogin:function(t,e){var n=this,r=t.commit,o=(t.state,e.accesstoken),u=e.cb;return c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.h)({accesstoken:o});case 3:e=t.sent,e.success?(r(s.f,e),r(s.d,o),u&&u()):r(s.a,e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(s.a,"未知错误");case 10:case"end":return t.stop()}},t,n,[[0,7]])}))()},userLogout:function(t){var e=t.commit;t.state;e(s.g),e(s.d,"")}}},,,,function(t,e,n){"use strict";var r=n(84),a=n(185),o=n(186);e.a={namespaced:!0,state:{id:null,topic:null,err:!1,loading:!1,msg:"",complete:!1},mutations:r.h,getters:a.a,actions:o.a}},function(t,e,n){"use strict";e.a={topic:function(t){return t.topic?t.topic:{}},isLoading:function(t){return t.loading},isErr:function(t){return t.err},author:function(t){return t.topic?t.topic.author:null},collect:function(t){return!!t.topic&&t.topic.is_collect},replies:function(t){return t.topic?t.topic.replies:[]},images:function(t){if(t.topic){var e=/<img src="(\S+?)".+?>/g;return t.topic.content.match(e)||[]}return[]}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(84),i=n(15),u=n(14);e.a={getTopic:function(t,e){var n=this,r=t.commit,o=(t.state,t.rootGetters),p=e.id;return c()(a.a.mark(function t(){var e,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.token,r(s.e,p),r(s.b,!0),r(u.c,{flag:!0},{root:!0}),t.prev=4,t.next=7,Object(i.b)({id:p,accesstoken:e});case 7:c=t.sent,c.success?r(s.f,c.data):(r(s.a,c.error_msg),r(u.b,{message:c.error_msg},{root:!0})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),r(s.b,!1),r(s.a,t.t0),r(u.b,{message:"未知错误!"},{root:!0});case 16:return t.prev=16,r(s.b,!1),r(u.c,{flag:!1},{root:!0}),t.finish(16);case 20:case"end":return t.stop()}},t,n,[[4,11,16,20]])}))()},topicCollect:function(t){var e=this,n=t.commit,r=t.state,o=t.rootGetters;return c()(a.a.mark(function t(){var c,p,f,d,l,m;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=o.token,p=r.id,f=r.topic.is_collect,d=f?i.j:i.i,c){t.next=7;break}return n(s.c,null,{root:!0}),t.abrupt("return");case 7:return t.prev=7,t.next=10,d({accesstoken:c,topic_id:p});case 10:l=t.sent,l.success?(m=f?"取消成功":"收藏成功",n(s.d,!f),n(u.e,{message:m},{root:!0})):(n(s.a,l.error_msg),n(u.e,{message:l.error_msg},{root:!0})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),n(s.a,t.t0),n(u.e,{message:"未知错误"},{root:!0});case 18:case"end":return t.stop()}},t,e,[[7,14]])}))()},upReply:function(t,e){var n=this,r=t.commit,o=(t.state,t.rootGetters),p=e.reply_id;return c()(a.a.mark(function t(){var e,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.token){t.next=4;break}return console.log("accesstoken",e),t.abrupt("return",r(s.c,null,{root:!0}));case 4:return t.prev=4,t.next=7,Object(i.k)({accesstoken:e,reply_id:p});case 7:c=t.sent,c.success?r(s.g,{flag:c.action,id:p}):(r(s.a,c.error_msg),r(u.b,{message:c.error_msg},{root:!0})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),r(s.a,t.t0),r(u.b,{message:"未知错误"},{root:!0});case 15:case"end":return t.stop()}},t,n,[[4,11]])}))()},deleteTopic:function(t){(0,t.commit)(s.f,null)}}},function(t,e,n){"use strict";var r=n(85),a=n(188),o=n(189);e.a={namespaced:!0,state:{topics:[],page:1,err:!1,loading:!1,msg:""},mutations:r.f,getters:a.a,actions:o.a}},function(t,e,n){"use strict";e.a={topics:function(t){return t.topics},isLoading:function(t){return t.loading},isErr:function(t){return t.err},page:function(t){return t.page}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(85),i=n(15),u=n(14);e.a={getTopics:function(t){var e=this,n=t.commit,r=t.state,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c()(a.a.mark(function t(){var c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(s.b,!0),o&&n(u.c,{flag:!0,message:"初始化..."},{root:!0}),t.next=5,Object(i.c)({page:r.page});case 5:c=t.sent,c.success?(n(s.e,c.data),n(s.c),n(s.b,!1)):(n(s.b,!1),n(s.a,c),n(u.b,{message:c.error_msg},{root:!0})),r.topics.length>=60&&n(s.d,10),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),n(s.b,!1),n(s.a,t.t0),n(u.b,{message:"未知错误"},{root:!0});case 15:o&&n(u.c,{flag:!1},{root:!0});case 16:case"end":return t.stop()}},t,e,[[0,10]])}))()}}},function(t,e,n){"use strict";var r=n(86),a=n(191),o=n(192);e.a={namespaced:!0,state:{read:[],none:[],err:!1,loading:!1,errmsg:""},mutations:r.e,getters:a.a,actions:o.a}},function(t,e,n){"use strict";e.a={read:function(t){return t.read},none:function(t){return t.none},loading:function(t){return t.loading}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(86),i=n(15);e.a={getMessage:function(t){var e=this,n=t.commit,r=t.rootGetters;return c()(a.a.mark(function t(){var o,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n(s.c,!0),o=r.token){t.next=6;break}return setTimeout(function(){n(s.c,!1)},200),n("NEED_LOGIN",null,{root:!0}),t.abrupt("return");case 6:return t.prev=6,t.next=9,Object(i.a)({accesstoken:o});case 9:c=t.sent,c.success?n(s.d,c.data):n(s.b,{tag:!0,msg:c.error_msg}),n(s.c,!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(6),console.error(t.t0),n(s.b,{tag:!0,msg:t.t0}),n(s.c,!1);case 19:case"end":return t.stop()}},t,e,[[6,14]])}))()},markMessage:function(t,e){var n=this,r=t.commit,o=t.rootGetters,u=e.id;return c()(a.a.mark(function t(){var e,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.token,t.prev=1,t.next=4,Object(i.f)({accesstoken:e,msg_id:u});case 4:c=t.sent,c.success?r(s.a,{id:c.data.marked_msg_id}):r(s.b,{tag:!0,msg:c.error_msg}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),r(s.b,{tag:!0,msg:t.t0});case 12:case"end":return t.stop()}},t,n,[[1,8]])}))()}}},function(t,e,n){"use strict";var r=n(87),a=n(194),o=n(195);e.a={namespaced:!0,state:{good:{page:1,topics:[],err:!1,loading:!1},job:{page:1,topics:[],err:!1,loading:!1},share:{page:1,topics:[],err:!1,loading:!1},dev:{page:1,topics:[],err:!1,loading:!1},ask:{page:1,topics:[],err:!1,loading:!1}},mutations:r.f,getters:a.a,actions:o.a}},function(t,e,n){"use strict";e.a={good:function(t){return t.good.topics},job:function(t){return t.job.topics},ask:function(t){return t.ask.topics},share:function(t){return t.share.topics},dev:function(t){return t.dev.topics}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(87),i=n(15),u=n(14);e.a={getTopics:function(t,e){var n=this,r=t.commit,o=t.state,p=e.tab;return c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 0===o[p].topics.length&&r(u.c,{flag:!0},{root:!0}),t.prev=1,r(s.b,{tab:p,flag:!0}),t.next=5,Object(i.c)({page:o[p].page,tab:p});case 5:e=t.sent,e.success?(r(s.e,{tab:p,topics:e.data}),r(s.c,{tab:p})):(r(s.a,{tab:p,msg:e.error_msg}),r(u.b,{message:e.error_msg},{root:!0})),o[p].topics.length>=60&&r(s.d,{tab:p,conut:10}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r(s.a,{tab:p,msg:t.t0}),r(u.b,{message:"未知错误"},{root:!0});case 14:r(s.b,{tab:p,flag:!1}),r(u.c,{flag:!1},{root:!0});case 16:case"end":return t.stop()}},t,n,[[1,10]])}))()}}},function(t,e,n){"use strict";var r=n(197),a=n(198),o=n(199);e.a={namespaced:!0,state:{reply:null,at:[],err:!1,loading:!1,errmsg:""},mutations:r.a,getters:a.a,actions:o.a}},function(t,e,n){"use strict";var r=n(9),a=n.n(r);e.a=a()({},"PUSH_AT_USER",function(t,e){t.at.push(e)})},function(t,e,n){"use strict";e.a={}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(15),i=n(14);e.a={reply:function(t,e){var n=this,r=t.commit,o=t.rootGetters,u=e.content,p=e.topic_id,f=e.reply_id;return c()(a.a.mark(function t(){var e,c,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.token,c=o.addLogo,e){t.next=4;break}return t.abrupt("return",r("NEED_LOGIN",null,{root:!0}));case 4:return t.prev=4,c&&(u+="来自[CNode.js社区](http://alexlees.github.io)"),t.next=8,Object(s.g)({accesstoken:e,content:u,reply_id:f,topic_id:p});case 8:d=t.sent,d.success?r(i.e,{message:"评论成功"},{root:!0}):r(i.b,{message:d.error_msg},{root:!0}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),r(i.b,{message:"未知错误"},{root:!0});case 15:case"end":return t.stop()}},t,n,[[4,12]])}))()}}},function(t,e,n){"use strict";var r=n(88),a=n(201),o=n(202);e.a={namespaced:!0,state:{author:{info:null,collects:[]},err:!1,loading:!1,errMsg:""},mutations:r.f,getters:a.a,actions:o.a}},function(t,e,n){"use strict";e.a={info:function(t){return t.author.info?t.author.info:{}},collects:function(t){return t.author.collects},loading:function(t){return t.loading}}},function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(7),c=n.n(o),s=n(88),i=n(15),u=n(14);e.a={getUser:function(t,e){var n=this,r=t.commit,o=e.loginname,p=e.path;return c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return r(s.e,{flag:!0}),r(u.c,{message:"加载中...",flag:!0},{root:!0}),t.prev=4,t.next=7,Object(i.d)({loginname:o});case 7:e=t.sent,e.success?(r(s.c,e),p&&r(s.a,p)):(r(s.d,{flag:!0,msg:e.error_msg}),r(u.b,{message:e.error_msg})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),r(s.d,{flag:!0,msg:t.t0}),r(u.b,{message:"未知错误"});case 15:return t.prev=15,r(u.c,{message:"加载中...",flag:!1},{root:!0}),r(s.e,{flag:!1}),t.finish(15);case 19:case"end":return t.stop()}},t,n,[[4,11,15,19]])}))()},getCollect:function(t,e){var n=this,r=t.commit,o=(t.state,e.loginname);return c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r(s.e,{flag:!0}),r(u.c,{message:"加载中...",flag:!0},{root:!0}),t.next=7,Object(i.e)({loginname:o});case 7:e=t.sent,e.success?r(s.b,e):(r(s.d,{flag:!0,msg:e.error_msg}),r(u.b,{message:e.error_msg},{root:!0})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),r(s.d,{flag:!0,msg:t.t0}),r(u.b,{message:"未知错误"},{root:!0});case 15:return t.prev=15,r(s.e,{flag:!1}),r(u.c,{message:"加载中...",flag:!1},{root:!0}),t.finish(15);case 19:case"end":return t.stop()}},t,n,[[2,11,15,19]])}))()}}},function(t,e){}],[55]);
//# sourceMappingURL=app.1d048a47c0b4940a37a2.js.map